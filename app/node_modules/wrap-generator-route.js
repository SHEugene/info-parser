const co = require('co');

// WTF is this shit? -> https://strongloop.com/strongblog/async-error-handling-expressjs-es7-promises-generators/

module.exports = function (genFn) {
	const cr = co.wrap(genFn);
	return function (req, res, next) {
		return cr(req, res, next).catch(next);
	}
};
